(this.webpackJsonppart2=this.webpackJsonppart2||[]).push([[0],{15:function(t,e,n){t.exports=n(38)},37:function(t,e,n){},38:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),c=n(14),r=n.n(c),i=n(4),u=n(2),l=function(t){var e=t.note,n=t.toggleImportance,a=e.important?"Make not important":"Make important";return o.a.createElement(o.a.Fragment,null,o.a.createElement("li",{className:"note"},e.content,o.a.createElement("button",{onClick:function(){return n(e.id)}},a)))},s=n(3),m=n.n(s),f=function(){var t=m.a.get("/api/notes"),e={id:1e3,content:"This note doesn't exist",date:"2019-05-30T17:30:31.098Z",important:!0};return t.then((function(t){return t.data.concat(e)}))},p=function(t){return m.a.post("/api/notes",t).then((function(t){return t.data}))},d=function(t,e){return m.a.put("".concat("/api/notes","/").concat(e),t).then((function(t){return t.data}))},b=(n(37),function(t){var e=t.message,n=t.style;return null===e?null:o.a.createElement("div",{style:n},e)}),E=function(t){return o.a.createElement("div",{style:t.style},o.a.createElement("p",null,"a program by lewis bentley"))},h=function(t){var e=Object(a.useState)(t.notes),n=Object(u.a)(e,2),c=n[0],r=n[1],s=Object(a.useState)("a new note..."),m=Object(u.a)(s,2),h=m[0],g=m[1],v=Object(a.useState)(!1),y=Object(u.a)(v,2),O=y[0],S=y[1],j=Object(a.useState)(""),w=Object(u.a)(j,2),k=w[0],I=w[1],T=Object(a.useState)(!0),C=Object(u.a)(T,2),D=C[0],M=C[1];Object(a.useEffect)((function(){f().then((function(t){r(t)}))}),[]);var x=function(t){"http://localhost:3001/notes/".concat(t);var e=c.find((function(e){return e.id===t})),n=Object(i.a)(Object(i.a)({},e),{},{important:!e.important});d(n,t).then((function(e){console.log("".concat(n.content," is now ").concat(n.important)),r(c.map((function(e){return e.id!==t?e:n})))})).catch((function(n){M(!1),I("We tried to update ".concat(e.content," but encountered an error")),setTimeout((function(){I(null)}),5e3),r(c.filter((function(e){return e.id!==t})))}))},z=O?c:c.filter((function(t){return t.important})),F={color:"green",fontSize:16,fontStyle:"italic"},J=D?F:{color:"red",fontSize:16,fontStyle:"italic"};return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"Notes"),o.a.createElement(b,{message:k,style:J}),o.a.createElement("button",{onClick:function(){return S(!O)}},"show ",O?"important":"all"),o.a.createElement("ul",null,z.map((function(t){return o.a.createElement(l,{key:t.id,note:t,toggleImportance:x})}))),o.a.createElement("form",{onSubmit:function(t){t.preventDefault();var e={content:h,important:Math.random()<.5,date:(new Date).toISOString};p(e).then((function(t){console.log("created ".concat(t.content)),M(!0),I("Successfully created ".concat(e.content)),setTimeout((function(){I(null)}),5e3),r(c.concat(t)),g("")}))}},o.a.createElement("input",{value:h,onChange:function(t){g(t.target.value)}}),o.a.createElement("button",{type:"submit"},"Save"),o.a.createElement(E,{style:F})))};r.a.render(o.a.createElement(h,{notes:[{id:"1",content:"this is a new note",date:"17-05-2020",important:!0},{id:"2",content:"tussle",date:"17-05-2020",important:!1},{id:"3",content:"Hebrew note",date:"17-05-2020",important:!0},{id:"4",content:"Delicious!!!",date:"17-05-2020",important:!0}]}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.2dbc531d.chunk.js.map