(this.webpackJsonp2=this.webpackJsonp2||[]).push([[0],{15:function(e,n,t){e.exports=t(38)},37:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(14),o=t.n(c),l=t(3),u=t(2),i=t(4),d=t.n(i),m=function(e){var n=e.searchHandler;return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Search: ",r.a.createElement("input",{onChange:n})))},s=function(e){return r.a.createElement("form",{onSubmit:e.newPersonHandler},r.a.createElement("div",null,r.a.createElement("p",null,"Name: ",r.a.createElement("input",{onChange:e.nameHandler})),r.a.createElement("p",null,"Number: ",r.a.createElement("input",{onChange:e.numberHandler})),r.a.createElement("button",null,"add")))},f=function(e){var n=e.personsToShow,t=e.removePerson;return r.a.createElement("ul",null,n.map((function(e){return r.a.createElement("li",{key:e._id},e.name," - ",e.number," - ",r.a.createElement("button",{onClick:function(){return t(e)}},"delete"))})))},b="/api/persons",p=function(){return d.a.get(b)},h=function(e){return console.log("deleted person with id: ".concat(e)),d.a.delete("".concat(b,"/").concat(e))},g=function(e,n){return console.log("updated the number of person with id: ".concat(e)),d.a.put("".concat(b,"/").concat(e),n)},E=function(e){return console.log("created new person called ".concat(e.name)),d.a.post(b,e)},v=function(e){var n=e.message,t=e.style;return r.a.createElement("div",{style:t},n)},O=function(e){var n=Object(a.useState)([]),t=Object(u.a)(n,2),c=t[0],o=t[1],i=Object(a.useState)(""),d=Object(u.a)(i,2),b=d[0],O=d[1],j=Object(a.useState)(null),w=Object(u.a)(j,2),y=w[0],S=w[1],k=Object(a.useState)(""),H=Object(u.a)(k,2),C=H[0],P=H[1],T=Object(a.useState)(""),J=Object(u.a)(T,2),N=J[0],A=J[1],F=Object(a.useState)({color:"green",fontSize:30}),U=Object(u.a)(F,2),_=U[0],x=U[1];Object(a.useEffect)((function(){p().then((function(e){o(e.data)}))}),[]);var z=C?c.filter((function(e){return e.name.toUpperCase().includes(C.toUpperCase())})):c;return console.log("there are",c.length,"persons in memory"),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Phonebook"),r.a.createElement(v,{message:N,style:_}),r.a.createElement(m,{searchHandler:function(e){P(e.currentTarget.value)}}),r.a.createElement("h2",null,"Add"),r.a.createElement(s,{nameHandler:function(e){O(e.currentTarget.value)},numberHandler:function(e){S(e.currentTarget.value)},newPersonHandler:function(e){e.preventDefault();var n={name:b,number:y},t=c.find((function(e){return e.name===n.name}));t?window.confirm("".concat(n.name," is already in the phone book. Would you like to update their number?"))&&(alert("you are a naughty bugger to update ".concat(t.id,"'s ").concat(t._id,"'s number!!!")),g(t.id,n).then((function(e){o(c.filter((function(e){return e.id!==t.id})).concat(e.data)),O(""),S(null);var a=Object(l.a)(Object(l.a)({},_),{},{color:"green"});x(a),A("successfully updated the number of ".concat(n.name))})).catch((function(e){var n=Object(l.a)(Object(l.a)({},_),{},{color:"red"});x(n),A("the information for ".concat(t.name," has already been removed from the server."))}))):E(n).then((function(e){console.log("we posted data and got this back: ".concat(e)),o(c.concat(e.data)),O(""),S(null)})).catch((function(e){var n=Object(l.a)(Object(l.a)({},_),{},{color:"red"});x(n),A(JSON.stringify(e.response.data)),console.log(e.response.data)}))}}),r.a.createElement("h2",null,"Contacts"),r.a.createElement(f,{personsToShow:z,removePerson:function(e){var n=e.id;window.confirm("Are you sure you would like to delete ".concat(e.name,"?"))&&h(e.id).then((function(e){o(c.filter((function(e){return e.id!==n}))),O(""),S(null)}))}}),r.a.createElement("div",null,"debug: ",b),r.a.createElement("div",null,"debug: ",y),r.a.createElement("div",null,"debug: ",C))};t(37);o.a.render(r.a.createElement(O,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.54913001.chunk.js.map